import { Resolvable } from "./Resolvable";
import { ResolvedValue } from "./ResolvedValue";
import { ResolvedValueWithId } from "./ResolvedValueWithId";
type DataContextValue =
  | string
  | number
  | boolean
  | Resolvable
  | (string | number | boolean | Resolvable)[];
export type DataContextState = {
  [key: string]: DataContextValue;
};
export interface DataContext {
  get(key: string): ResolvedValue | undefined;
  keys(): string[];
  search(pattern: string): ResolvedValueWithId[];
}
export interface ImmutableDataContext extends DataContext {
  replace(
    key: string,
    value: string | number | boolean | Resolvable
  ): ImmutableDataContext;
  remove(key: string): ImmutableDataContext;
  rename(key: string, to: string): ImmutableDataContext;
  push(
    key: string,
    value: string | number | boolean | Resolvable
  ): ImmutableDataContext;
}
export declare class ImmutableDataContext {
  static of(state: DataContextState): ImmutableDataContext;
}
export interface MutableDataContext extends DataContext {
  set(
    key: string,
    value: string | number | boolean | ResolvedValue[] | Resolvable
  ): void;
  remove(key: string): void;
  rename(key: string, to: string): void;
  push(key: string, value: string | number | boolean | Resolvable): void;
}
export declare class DataContext {
  static Empty: DataContext;
  static of(state: DataContextState): MutableDataContext;
}
export declare abstract class BaseDataContext implements DataContext {
  search(pattern: string): ResolvedValueWithId[];
  abstract get(key: string): ResolvedValue | undefined;
  abstract keys(): string[];
}
export declare class StaticImmutableDataContext
  extends BaseDataContext
  implements ImmutableDataContext
{
  private readonly state;
  constructor(state?: DataContextState);
  get(key: string): ResolvedValue | undefined;
  replace(
    key: string,
    value: string | number | boolean | Resolvable
  ): ImmutableDataContext;
  remove(key: string): ImmutableDataContext;
  rename(key: string, to: string): ImmutableDataContext;
  push(
    key: string,
    value: string | number | boolean | Resolvable
  ): ImmutableDataContext;
  keys(): string[];
}
export {};
